<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API Testing with Postman</title>
    <link rel="stylesheet" href="assets/css/project1.css">
    <style>
        /* Modal Styles */
        .modal {
            display: none; /* Hidden by default */
            position: fixed; /* Stay in place */
            z-index: 1; /* Sit on top */
            left: 0;
            top: 0;
            width: 100%; /* Full width */
            height: 100%; /* Full height */
            overflow: auto; /* Enable scroll if needed */
            background-color: rgb(0,0,0); /* Fallback color */
            background-color: rgba(0,0,0,0.8); /* Black w/ opacity */
        }
        .modal-content {
            margin: auto;
            display: block;
            width: 80%; /* Make image responsive */
            max-width: 700px;
        }
        .close {
            position: absolute;
            top: 15px;
            right: 35px;
            color: #ff0404;
            font-size: 40px;
            font-weight: bold;
        }
        .close:hover,
        .close:focus {
            color: #bbb;
            text-decoration: none;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <header>
        <h1><u>API Testing with Postman</u></h1>
        <div class="github-button-container">
            <a href="https://github.com/MRJOHN5ON/postmanAPI_testing" target="_blank">
                <img src="assets/images/GitHub.png" alt="GitHub" class="github-button">
            </a>
        </div>
    </header>
    
    <hr class="giant-divider">
    <main>
        <section class="project-details">
            <div class="centered-text">
                <h2><u>Summary</u></h2>
                <div class="highlighted-summary">
                    <p>This summary outlines the testing of the Urban Grocers API, focusing on:</p>
                    <p>Adding products to a kit.<br>Calculations for fast delivery.</p>
                    <p><strong>A total of 57 tests were conducted: 28 for the first requirement and 29 for the second.</strong></p>
                </div>
                <div class="centered-text">
                    <p><strong>(ðŸ‘‡ Full test case data sheet available ðŸ‘‡)</strong></p>
                    <p><a href="https://docs.google.com/spreadsheets/d/1u7IGVb-FNyHqHK7GsBrwKLk84MCGCfISmwzFId9o3K0/edit?usp=drivesdk" target="_blank">Google Sheets Test Case Data</a></p>
                </div>
                <hr class="giant-divider">
                <h2><u>Requirement 1: Adding Products to a Kit</u></h2>
                <div class="image-container">
                    <img src="assets/images/p1.png" alt="Adding Products to a Kit" class="modal-trigger">
                    <p class="image-caption">CLICK IMAGE TO ENLARGE</p>
                </div>

                <!-- Modal for Enlarged Image -->
                <div class="modal" id="imageModal">
                    <span class="close">&times;</span>
                    <img class="modal-content" id="modalImage">
                </div>
            </div>
        </section>

        <hr class="giant-divider">
        <h3><u>Key Findings</u></h3>
        <div class="text-center">
            <strong>Total Tests:</strong> 28<br>
            <strong>Parameters:</strong> Tested scenarios around the 30-item limit, invalid product IDs, and kit IDs.
        </div>
        <hr class="giant-divider">
        <h3><u>Major Bugs</u></h3>

        <div class="image-section">
            <h4>Verifying Body Response When Requesting An Excess of 30 Items</h4>
            <p class="highlighted-paragraph">
                In addition to using Postman, I wrote JavaScript scripts and ran them through Node.js to manually test the same API scenarios. These scripts replicate the Postman tests, ensuring the Urban Grocers API correctly adheres to the 30-item limit for kits. You can view the scripts in my GitHub repository: 
                <a href="https://github.com/MRJOHN5ON/postmanAPI_testing/tree/main/node-tests" target="_blank" rel="noopener noreferrer">
                    Click here!
                </a>
            </p>
            <p><strong>Exceeding 30 Items:</strong></p>
            <div class="text-center">
                The API incorrectly allowed multiple quantities of the same product to be added to a kit, causing it to exceed the 30-item limit (expected HTTP 400, received HTTP 200).
                <br>Interestingly, when adding multiple different products, each with a single quantity, to a kit that had under 30 items (causing it to exceed 30), the API behaved correctly & returned HTTP 400.</li>
            <br><br></div>
            <div class="image-section">
                <img src="assets/images/p2.png" alt="Exceeding 30 Items" class="modal-trigger">
                <p class="image-caption">CLICK IMAGE TO ENLARGE</p>
            </div>
        </div>

        <div class="image-section">
            <h4>Bug Report in JIRA</h4>
            <img src="assets/images/p3.png" alt="Bug Report in JIRA" class="modal-trigger">
            <p class="image-caption">CLICK IMAGE TO ENLARGE</p>
        </div>

        <hr class="giant-divider">

        <div class="image-section">
            <h4>Requesting Non-existent Product IDs</h4>

            <div class="text-center">
                The system accepted non-existent product IDs (e.g., product ID 407 which does not exist) and responded with HTTP 200 OK instead of the expected HTTP 400 Bad Request.
                <br>This could lead to users believing they have successfully added a valid product to their kit when, in fact, the product does not exist in the system.
            <br><br></div>
            <img src="assets/images/p4.png" alt="Non-existent Product IDs" class="modal-trigger">
            <p class="image-caption">CLICK IMAGE TO ENLARGE</p>
        </div>

        <div class="image-section">
            <h4>Bug Report in JIRA</h4>
            <img src="assets/images/p5.png" alt="Bug Report in JIRA" class="modal-trigger">
            <p class="image-caption">CLICK IMAGE TO ENLARGE</p>
        </div>

        <h4><u>Invalid Inputs</u></h4>
        <div class="text-center">
        <p>The system was tested with various invalid product IDs and kit IDs (e.g., using Latin letters, symbols, decimal points, non-Latin letters).</p>
    </div>
        <hr class="giant-divider">
        <hr class="giant-divider">
        <h2><u>Requirement 2: Fast Delivery Calculations</u></h2>
        <div class="text-center">
            <p><strong>Test Cases Overview</strong></p>
            <p><strong>Total Tests:</strong> 29</p>
            <p><strong>Focus:</strong> Parameters for the fast delivery method.</p>
        </div>
        <p class="centered-link">
            <a href="https://practicum-content.s3.us-west-1.amazonaws.com/qa-us/pdf/Requirements_Shipping_Price_Calculations.pdf" target="_blank">Detailed Requirements PDF</a>
        </p>
        <h3><u>Test Scenarios</u></h3>
        <ul>
            <li><strong>Valid Middle-Ground Input:</strong> Tested the system with valid, middle-range parameters to ensure basic functionality.</li><br>
            <li><strong>Minimal Product Weight and Middle Values for Other Parameters:</strong> Ensured the system accepted orders with minimal weight and middle-range product counts and delivery times.</li><br>
            <li><strong>Minimal Product Weight and Count:</strong> Verified that the client delivery cost remained $0 for orders with minimal weight and product count within limits.</li><br>
            <li><strong>Product Weight Exceeding Maximum Limit:</strong><br><br>
                <ul>
                    <li><strong>Scenario:</strong> Tested fast delivery with product count within limits but weight slightly over the limit (6.01 kg).</li><br>
                    <li><strong>Expected:</strong> Host delivery cost $6, client delivery cost $9.</li><br>
                    <li><strong>Observed:</strong> Client delivery cost was incorrectly charged $6 instead of $9.</li><br>
                    <li><strong style="color: #ff0404;">Bug:</strong> The system failed to apply the excess client delivery cost correctly when the product weight exceeded the maximum limit.</li><br>
                </ul>
            </li>
            <li><strong>Product Count Exceeding Maximum Limit:</strong><br><br>
                <ul>
                    <li><strong>Scenario:</strong> Tested fast delivery with weight within limits but product count slightly over the limit.</li><br>
                    <li><strong>Expected:</strong> Host delivery cost $6, client delivery cost $9.</li><br>
                    <li><strong>Observed:</strong> Client delivery cost was incorrectly charged $6 instead of $9.</li><br>
                    <li><strong style="color: #ff0404;">Bug:</strong> The system failed to apply the excess client delivery cost correctly when the product count exceeded the maximum limit.</li><br>
                </ul>
            </li>
        </ul>
        <hr class="giant-divider">
        <h3><u>Inconclusive Tests</u></h3>
        <div class="text-center">
        <p>Two tests were deemed inconclusive, pointing to a significant flaw in the design of the API's cost calculation system.<br> These tests highlighted a gap in the defined ranges for host delivery cost:</p>
       
           Ordering Fast Delivery with Product Weight Slightly Below the Upper Limit (2.59 kg).
        
    </div>
        <hr class="giant-divider">
        <div class="image-section">
            <h4><u>Results</u></h4>
            <img src="assets/images/p6.png" alt="results" class="modal-trigger">
            <p class="image-caption">CLICK IMAGE TO ENLARGE</p>
        </div>
        <hr class="giant-divider">
        <p><strong style="color: #fffdfd;">Major Flaw in Design:</strong><br><br> The current requirements have a gap between the $3 price range (0-2.5 kg) and the $6 price range (2.6-6 kg). This ambiguity creates uncertainty in expected outcomes for product weights that fall within this gap (e.g., 2.51 kg and 2.59 kg).</p>

        <h2><u>Conclusion</u></h2>
        <p>Overall, the system demonstrated significant issues with both the 30-item limit for kits and incorrect handling of delivery cost calculations. The bugs identified indicate areas where the API's functionality and validation mechanisms need to be strengthened.</p>
    </main>
</section>


<footer>
    <p>&copy; 2024 Ryley Johnson</p>
    <p>Contact me: <a href="mailto:ryleyjohnsonemail@gmail.com">ryleyjohnsonemail@gmail.com</a></p>
    <div class="github-button-container">
        <a href="https://github.com/MRJOHN5ON/postmanAPI_testing" target="_blank">
            <img src="assets/images/GitHub.png" alt="GitHub" class="github-button">
        </a>
    </div>
</footer>
    <script>
        // Modal functionality
        const modals = document.querySelectorAll('.modal');
        const modalTriggers = document.querySelectorAll('.modal-trigger');
        const closeButtons = document.querySelectorAll('.close');
        const modalImage = document.getElementById('modalImage');

        modalTriggers.forEach((trigger, index) => {
            trigger.onclick = function() {
                const modal = document.getElementById('imageModal');
                modal.style.display = "block";
                modalImage.src = trigger.src;
            }
        });

        closeButtons.forEach((btn) => {
            btn.onclick = function() {
                const modal = document.getElementById('imageModal');
                modal.style.display = "none";
            }
        });

        window.onclick = function(event) {
            if (event.target.classList.contains('modal')) {
                event.target.style.display = "none";
            }
        }
    </script>
</body>
</html>

